@model List<Produkt>
<!--EMMY HAR GJORT ALLT PÅ DENNA SIDA-->
<section class="category">

        <div class="top-section">
            <div class="searchbar">
                <input type="text" id="searchInput" placeholder="Sök produkter">
                <button onclick="search()">Sök</button>
            </div>

        <form action="@Url.Action("VisaProdukter", "Home")" method="get">
            <label for="kategori">Välj kategori:</label>
            <select name="kategoriId" id="kategoriId">
                <option value="">Alla kategorier</option>
                @foreach (var category in ViewBag.AllCategories)
                {
                    <option value="@category.Id">@category.Namn</option>
                    @foreach (var childCategory in category.ChildKategorier)
                    {
                        <option value="@childCategory.Id">- @childCategory.Namn</option>
                    }
                }
            </select>

            <label for="pris">Välj prisintervall:</label>
            <select name="pris" id="pris">
                <option value="0-100">0 - 100 kr</option>
                <option value="100-500">100 - 500 kr</option>
                <option value="500-1000">500 - 1000 kr</option>
                <!-- Lägg till fler alternativ efter behov -->
            </select>

            <button type="submit">Filtrera</button>
        </form>



            <div class="boxflex">
            <div class="ad-count">
                <p> @Model.Count() annonser</p>
            </div>

            <div class="sort-dropdown">
                <select id="sortDropdown">
                    <option value="prisAsc">Pris - Stigande</option>
                    <option value="prisDesc">Pris - Fallande</option>
                    <!-- Andra sorteringsalternativ här -->
                </select>
			</div>
		</div>
        </div>

    @if (Model != null && Model.Any())
    {
        <div class="productscategory">
            <ul>
                @foreach (var produkt in Model)
                {
                    <li>
                        <div class="produkt-info">
                            <div class="wrapper">
                                <a href="@Url.Action("VisaProdukt", "Product", new { id = produkt.Id })">
                                    <img src="@produkt.BildUrl" alt="Produktbild">
								</a>
                                   
                                
                                    
                              
                                <div class="text-info">
									<div class="textbox">
										<h3>@produkt.Namn</h3>
                                        <p>Pris: @produkt.Pris</p>
                                    </div>
                                    <div class="buttonbox">
                                        <form asp-controller="Bevakning" asp-action="LäggTill" method="post">
                                            <input type="hidden" name="produktId" value="@produkt.Id" />
                                            <button type="submit">Bevaka vara</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                }
            </ul>
        </div>
    }
    else
    {
        <p>Inga produkter hittades för den angivna kategorin.</p>
    }

</section>

